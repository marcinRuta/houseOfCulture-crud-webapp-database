package bdbt_proj;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

@Controller
public class AppController {
	  
	@Autowired
	private Domy_kulturyDAO daoDomyKultury;
	private PracownicyDAO daoPracownicy;
	
	@RequestMapping("/")
	public String viewHomePage() {
		return "index";
	}
	
	/* Dom kultury */
	@RequestMapping("/DK")
	public String viewDomyKultury(Model model) {
		List<Domy_kultury> listDomy = daoDomyKultury.list();
		model.addAttribute("listDomy", listDomy);
		return "domy_kultury";
	}
	
	@RequestMapping("/newDK")
	public String showNewDomyKultury(Model model) {
		
		Domy_kultury NowyDom = new Domy_kultury();
		model.addAttribute("NowyDom", NowyDom);
		return "new_domy_kultury";
	}
	
	@RequestMapping(value = "/saveDK", method = RequestMethod.POST)
	public String save(@ModelAttribute("NowyDom") Domy_kultury NowyDom) {
		
		daoDomyKultury.save(NowyDom);
		return "redirect:/DK";
	}
	
	/* Pracownicy */
	
	@RequestMapping("/DK")
	public String viewDomyKultury(Model model) {
		List<Domy_kultury> listDomy = daoDomyKultury.list();
		model.addAttribute("listDomy", listDomy);
		return "domy_kultury";
	}
	
	@RequestMapping("/newDK")
	public String showNewDomyKultury(Model model) {
		
		Domy_kultury NowyDom = new Domy_kultury();
		model.addAttribute("NowyDom", NowyDom);
		return "new_domy_kultury";
	}
	
	@RequestMapping(value = "/saveDK", method = RequestMethod.POST)
	public String save(@ModelAttribute("NowyDom") Domy_kultury NowyDom) {
		
		daoDomyKultury.save(NowyDom);
		return "redirect:/DK";
	}
	
}
